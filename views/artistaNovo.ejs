<div class="row-fluid">
    <div class="span12">
        <div class="box paint color_12">
            <div class="title">
                <h4><span>Novo Artista</span></h4>
            </div>

            <div class="content">
                <form id="formNovoArtista" method="post" action="/admin/artista/novo" class="form-horizontal cmxform" autocomplete="off">
                    <div class="form-row control-group row-fluid">
                        <label class="control-label span3" for="nome">
                            Nome *
                            <!--<span class="help-block">*</span>-->
                        </label>
                        <div class="controls span8">
                            <input id="nome" name="nome" type="text" class="span12"/>
                        </div>
                    </div>
                    <div class="form-row control-group row-fluid">
                        <label class="control-label span3" for="site">Site</label>
                        <div class="controls span8">
                            <div class="input-prepend row-fluid"> <span class="add-on"><i class="icon-link"></i></span>
                                <input class="row-fluid" type="url" id="site" name="site">
                            </div>
                        </div>
                    </div>
                    <div class="form-row control-group row-fluid">
                        <label class="control-label span3" for="email">Email</label>
                        <div class="controls span8">
                            <input id="email" name="email" type="email" class="span12"/>
                        </div>
                    </div>
                    <div class="form-row control-group row-fluid">
                        <label class="control-label span3" for="fone1">Telefone</label>
                        <div class="controls span3">
                            <div class="input-prepend row-fluid">
                                <!--<input type="tel" id="tipoFone1" name="tipoFone1" class="row-fluid" />-->
                                <select id="tipoFone1" name="tipoFone1" class="row-fluid">
                                    <option value="residencial">Residencial</option>
                                    <option value="oi">Oi</option>
                                    <option value="tim">TIM</option>
                                    <option value="claro">Claro</option>
                                    <option value="vivo">Vivo</option>
                                </select>
                            </div>
                        </div>
                        <div class="controls span5">
                            <div class="input-prepend row-fluid"> <span class="add-on"><i class="icon-phone"></i></span>
                                <input type="tel" id="fone1" name="fone1" class="row-fluid" />
                            </div>
                        </div>
                        <div class="controls span1">
                            <div class="input-prepend row-fluid"> 
                                <span class="add-on"><i class="icon-plus"></i></span>
                            </div>
                        </div>
                    </div>
                    <div class="form-row control-group row-fluid">
                        <label class="control-label span3" for="social1">Rede Social</label>
                        <div class="controls span3">
                            <div class="input-prepend row-fluid">
                                <!--<input type="tel" id="tipoSocial1" name="tipoSocial1" class="row-fluid" />-->
                                <select id="tipoSocial1" name="tipoSocial1" class="row-fluid">
                                    <option value="facebook">Facebook</option>
                                    <option value="twitter">Twitter</option>
                                    <option value="googleplus">Google+</option>
                                    <option value="myspace">MySpace</option>
                                    <option value="soundcloud">SoundCloud</option>
                                </select>
                            </div>
                        </div>
                        <div class="controls span5">
                            <div class="input-prepend row-fluid"> <span class="add-on"><i class="icon-facebook"></i></span>
                                <input type="url" id="social1" name="social1" class="row-fluid" />
                            </div>
                        </div>
                        <div class="controls span1">
                            <div class="input-prepend row-fluid"> 
                                <span class="add-on"><i class="icon-plus"></i></span>
                            </div>
                        </div>
                    </div>
                    <div class="form-actions row-fluid">
                        <div class="span12">
                            <button type="reset" class="btn btn-large btn-secondary pull-right">Cancelar</button>
                            <button type="submit" class="btn btn-large btn-success pull-right">Salvar</button>
                        </div>
                    </div>
                </form>
            </div>

            <a href="#instrucoesModal" class="btn new_item" data-toggle="modal"><i class="icon-info-sign"></i></a>
        </div>
        <!-- End .box --> 
    </div>
</div>

<div id="instrucoesModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="myModalLabel">Instruções</h3>
    </div>
    <div class="modal-body">
        <h4>Para incluir um novo artista, siga as instruções abaixo</h4>

        <p>1. Os campos que contém um <b>*</b> são de preenchimento obrigatório, os demais são opcionais</p>
        <!--<p>2. Acesse o vídeo do YouTube que você deseja incluir</p>
        <p>3. Logo abaixo do título do vídeo, clique em <b>Compartilhar</b></p>
        <p>3. Em seguida, clique em <b>Incorporar</b></p>
        <p>4. Copie o código gerado e cole no campo <b>Código de Compartilhamento</b></p>
        <p>5. Clique em <b>Salvar</b></p>
        <p>6. Pronto! Seu deve ser incluído com sucesso</p>-->
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" data-dismiss="modal">Fechar</button>
    </div>
</div>

<script src="/js/jquery.validate.min.js"></script>

<script>

    //$.validator.addMethod(
    //    "regex",
    //    function (value, element, regexp) {
    //        var check = false;
    //        var re = new RegExp(regexp);
    //        return this.optional(element) || re.test(value);
    //    },
    //    "O código de compartilhamento gerado não é válido"
    //);
    //$("form").validate({ debug: true });
    //$("#article_text").rules("add", { regex: "<iframe" })

    $(function () {
        $("#formNovoArtista").validate({
            rules: {
                nome: {
                    required: true,
                    minlength: 2
                },
                site: {
                    minlength: 4
                },
                email: {
                    minlength: 6
                }
            },
            messages: {
                nome: {
                    required: "Por favor, informe o nome do artista",
                    minlength: "O título precisa conter pelo menos 2 caracteres"
                },
                site: {
                    minlength: "O site precisa conter pelo menos 4 caracteres",
                    url: 'A URL informada não é válida'
                },
                email: {
                    minlength: "O email precisa conter pelo menos 6 caracteres"
                }
            }
        });

        //$("#formNovoVideo").on('submit', function (e) {
        //    var campoUrl = $('[name=url]');
        //    var codigoDeCompartilhamento = campoUrl.val();
        //    var iframe = $(codigoDeCompartilhamento);
        //    campoUrl.val(iframe.attr('src'));
        //});
    });
</script>